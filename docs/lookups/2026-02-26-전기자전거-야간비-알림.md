# 전기자전거 출퇴근 시 야간 비 예보 알림

## 문제 정의
아침에 전기자전거를 타고 출근한 경우, 저녁에 타고 귀가한 뒤 야간~새벽~다음날 비가 오는지 확인하여 자전거가 비에 맞지 않도록 조치해야 한다. 아침에 출근 수단을 선택하면, 전기자전거를 탄 날에만 저녁 9~10시에 날씨 알림을 받고 싶다.

## 분석
- 사람 개입: A) 필요 없음 (아침 출근 수단 선택만 필요, 이후는 자동)
- 반복 주기: B) 매일 정기적 스케줄
- AI 추론: A) 불필요 — 단순 조건 분기 자동화
- 외부 서비스: B) 1-2개 서비스 (날씨 API + 텔레그램)

## 추천
**n8n 워크플로우**

매일 아침 텔레그램으로 출근 수단을 묻고, 전기자전거 선택 시 저녁 9~10시에 날씨 API를 조회하여 비 예보가 있으면 텔레그램으로 알림을 보내는 자동화에 n8n이 가장 적합하다. 텔레그램 봇의 인라인 버튼으로 아침 상호작용을 처리하고, 날씨 API 연동과 조건부 알림까지 하나의 워크플로우로 구성할 수 있다.

### 다른 방식이 안 되는 이유
- launchd + 셸 스크립트: 텔레그램 상호작용(버튼 선택)과 멀티서비스 연동을 셸 스크립트로 처리하기엔 복잡하고 유지보수가 어려움
- Apple Shortcuts: 서버 측에서 스케줄 트리거와 텔레그램 봇 상호작용을 처리해야 하므로 디바이스 기반 Shortcuts로는 한계가 있음
- Raycast 확장: 자동 스케줄 실행이 핵심인데, Raycast는 사용자가 직접 호출하는 방식이라 맞지 않음
- Claude Code 스킬: AI 추론이 불필요한 단순 조건 분기 자동화이므로 과도함

## 다음 단계
1. n8n 워크플로우 패턴: **스케줄 + 웹훅(텔레그램 봇) + HTTP API(날씨)** 조합
2. n8n-mcp 도구로 텔레그램 노드, 날씨 API 노드 관련 템플릿 검색
3. 워크플로우 구성:
   - 아침 스케줄 트리거 → 텔레그램 인라인 버튼으로 출근 수단 질문
   - 전기자전거 선택 시 상태 저장
   - 저녁 9~10시 스케줄 트리거 → 상태 확인 → 날씨 API 조회 → 비 예보 시 텔레그램 알림
4. 워크플로우 생성 및 배포
