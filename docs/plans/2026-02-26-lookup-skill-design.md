# lookup 스킬 디자인

## 목적

삶에서 마주하는 문제를 입력하면, 5가지 해결 방식 중 가장 적합한 것을 추천하고 근거를 제시하는 스킬.

## 호출 방식

```
/lookup 매일 운동 루틴 관리가 안 돼
```

## 해결 방식 후보 (5계층)

| 계층 | 해결 방식 | 핵심 특성 |
|---|---|---|
| 1 | **launchd + 셸 스크립트** | 단순 스케줄, AI 불필요, 무인 실행 |
| 2 | **Apple Shortcuts** | OS/디바이스 통합, 크로스 디바이스 |
| 3 | **Raycast 확장** | 빠른 즉석 호출, 키보드 기반 |
| 4 | **n8n 워크플로우** | 이벤트 기반, 멀티서비스 연동, 무인 자동화 |
| 5 | **Claude Code 스킬** | AI 추론 필요, 대화형, 복잡한 판단 |

### 각 방식의 상세 특성

**launchd + 셸 스크립트:**
- macOS 네이티브 스케줄러
- Mac이 잠자기 상태였으면 깨어날 때 실행
- XML plist 파일로 설정
- 단순하고 신뢰성 높음, 의존성 없음

**Apple Shortcuts:**
- iPhone, Mac, iPad 간 동기화
- 시간, 위치, NFC, Focus 모드로 트리거 가능
- AppleScript, JXA, 셸 스크립트 지원
- Apple 생태계 전용

**Raycast 확장:**
- 키보드 핫키로 즉시 호출
- React + TypeScript로 개발
- AI Commands 내장 (Claude, GPT 등)
- GitHub, Linear, Notion 등 연동

**n8n 워크플로우:**
- 500+ 외부 서비스 연동
- 스케줄, 웹훅, 이벤트 트리거
- AI 노드로 LLM 추론 포함 가능
- 24/7 무인 실행, 셀프 호스팅

**Claude Code 스킬:**
- 깊은 AI 추론, 다단계 계획
- 대화형, 적응적 실행
- MCP 서버로 외부 서비스 연동
- 서브에이전트로 병렬 처리
- 사람 개입 필수 (세션 내)

## 판단 기준 (4가지)

1. **사람 개입 필요 여부** — 매번 판단이 필요한가, 자동으로 돌아가면 되는가
2. **반복 주기** — 일회성인가, 매일/매주 반복인가
3. **AI 추론 필요 여부** — 단순 작업인가, 판단/창의성이 필요한가
4. **외부 서비스 연동** — 어떤 서비스들과 연결되어야 하는가

### 판단 매트릭스

```
                    스케줄/이벤트 기반        수동/대화형
                 ┌──────────────────┬──────────────────┐
  단순            │ launchd + script │ Raycast /        │
  (AI 불필요)     │                  │ Apple Shortcuts  │
                 ├──────────────────┼──────────────────┤
  보통            │ n8n 워크플로우     │ Claude Code 스킬  │
  (다단계, 연동)   │                  │                  │
                 ├──────────────────┼──────────────────┤
  복잡            │ n8n + AI 노드    │ Claude Code      │
  (추론, 판단)    │                  │ + MCP + 서브에이전트│
                 └──────────────────┴──────────────────┘
```

## 실행 흐름

```
사용자: /lookup <문제 설명>
    │
    ├─ 1. 문제 분석 — 4가지 기준으로 질문 (1개씩)
    │
    ├─ 2. 추천 — 적합한 방식 1개 + 다른 방식이 안 되는 근거
    │
    ├─ 3. 기록 저장 — docs/lookups/YYYY-MM-DD-<주제>.md
    │
    └─ 4. 다음 단계 안내 — 해당 방식에 맞는 스킬/도구 제시
```

### 단계별 상세

**1단계: 문제 분석**
- 사용자가 입력한 문제를 바탕으로 4가지 기준에 대해 질문
- 한 번에 1개씩 질문
- 가능하면 객관식으로 질문

**2단계: 추천**
- 가장 적합한 해결 방식 1개를 추천
- 나머지 4가지 방식이 왜 안 맞는지 근거 제시
- 출력 형태: 추천 + 근거

**3단계: 기록 저장**
- `docs/lookups/YYYY-MM-DD-<주제>.md`에 분석 결과 저장
- git commit

**4단계: 다음 단계 안내**
- 추천 방식에 맞는 구체적인 스킬/도구 안내

## 기록 파일 구조

`docs/lookups/YYYY-MM-DD-<주제>.md`:

```markdown
# <문제 요약>

## 문제 정의
<사용자가 설명한 문제>

## 분석
- 사람 개입: ...
- 반복 주기: ...
- AI 추론: ...
- 외부 서비스: ...

## 추천
**<추천 방식>**

### 다른 방식이 안 되는 이유
- <방식 A>: <근거>
- <방식 B>: <근거>
...

## 다음 단계
<구체적인 스킬/도구 안내>
```

## 다음 단계 매핑

| 추천 방식 | 안내할 다음 단계 |
|---|---|
| launchd + 셸 스크립트 | plist 작성 방법, 스크립트 위치 안내 |
| Apple Shortcuts | Shortcuts 앱에서 만들 워크플로우 설명 |
| Raycast 확장 | 확장 개발 또는 기존 확장 검색 안내 |
| n8n 워크플로우 | n8n 관련 스킬 호출 안내 (`n8n-workflow-patterns` 등) |
| Claude Code 스킬 | `brainstorming` 스킬 호출 안내 |
