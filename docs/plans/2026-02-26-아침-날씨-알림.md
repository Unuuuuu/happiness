# ì•„ì¹¨ ë‚ ì”¨ ì•Œë¦¼ ì›Œí¬í”Œë¡œìš° êµ¬í˜„ ê³„íš

> **For Claude:** REQUIRED SUB-SKILL: Use superpowers:executing-plans to implement this plan task-by-task.

**Goal:** ë§¤ì¼ ì•„ì¹¨ ì„œìš¸ì˜ ë‚ ì”¨ ì •ë³´(ë¹„ ì—¬ë¶€, ìµœì €/ìµœê³  ì˜¨ë„)ë¥¼ Telegramìœ¼ë¡œ ìë™ ì „ì†¡í•˜ëŠ” n8n ì›Œí¬í”Œë¡œìš°ë¥¼ êµ¬ì¶•í•œë‹¤.

**Architecture:** n8n í…œí”Œë¦¿ #4608(OpenWeatherMap â†’ Telegram)ì„ ê¸°ë°˜ìœ¼ë¡œ ë°°í¬í•œ ë’¤, í•œêµ­ í™˜ê²½(ì„œìš¸ ìœ„ì¹˜, Asia/Seoul íƒ€ì„ì¡´, í•œêµ­ì–´ ë©”ì‹œì§€)ì— ë§ê²Œ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•œë‹¤. Schedule Trigger â†’ HTTP Request â†’ Code â†’ Telegram 4ë…¸ë“œ êµ¬ì¡°.

**Tech Stack:** n8n ì›Œí¬í”Œë¡œìš°, OpenWeatherMap 5-day forecast API (ë¬´ë£Œ), Telegram Bot API

---

## ì‚¬ì „ ì¤€ë¹„ (ì›Œí¬í”Œë¡œìš° êµ¬ì„± ì „ì— ì™„ë£Œ)

ì‹¤í–‰ìê°€ ì§ì ‘ ì¤€ë¹„í•´ì•¼ í•˜ëŠ” ì™¸ë¶€ ì„œë¹„ìŠ¤ ê³„ì •:

### 1. OpenWeatherMap API í‚¤
- https://openweathermap.org/api ì—ì„œ ë¬´ë£Œ ê°€ì…
- API Keys ë©”ë‰´ì—ì„œ í‚¤ ë°œê¸‰ (ë¬´ë£Œ: 1000 calls/day)
- ë°œê¸‰ëœ í‚¤ë¥¼ ë©”ëª¨í•´ë‘”ë‹¤

### 2. Telegram Bot ìƒì„±
- Telegramì—ì„œ [@BotFather](https://t.me/BotFather)ì—ê²Œ ë©”ì‹œì§€
- `/newbot` ëª…ë ¹ â†’ ë´‡ ì´ë¦„, ìœ ì €ë„¤ì„ ì„¤ì •
- ë°œê¸‰ëœ **Bot Token**ì„ ë©”ëª¨
- ìƒì„±ëœ ë´‡ì—ê²Œ ì•„ë¬´ ë©”ì‹œì§€ë¥¼ ë³´ë‚¸ í›„, `https://api.telegram.org/bot<BOT_TOKEN>/getUpdates`ì—ì„œ **chat_id** í™•ì¸
- n8n ì¸ìŠ¤í„´ìŠ¤ì— Telegram API credential ë“±ë¡ (Bot Token ì…ë ¥)

---

## Task 1: í…œí”Œë¦¿ ë°°í¬

**ëª©í‘œ:** í…œí”Œë¦¿ #4608ì„ n8n ì¸ìŠ¤í„´ìŠ¤ì— ë°°í¬í•˜ì—¬ ê¸°ë³¸ ì›Œí¬í”Œë¡œìš° ê³¨ê²©ì„ ë§Œë“ ë‹¤.

**Step 1: í…œí”Œë¦¿ ë°°í¬**

```javascript
// n8n-mcp ë„êµ¬ ì‚¬ìš©
n8n_deploy_template({
  templateId: 4608,
  name: "ì•„ì¹¨ ë‚ ì”¨ ì•Œë¦¼",
  autoFix: true,
  autoUpgradeVersions: true
})
```

ì˜ˆìƒ ê²°ê³¼: ì›Œí¬í”Œë¡œìš° ID ë°˜í™˜, í•„ìš”í•œ credential ëª©ë¡ ì•ˆë‚´

**Step 2: ë°°í¬ í™•ì¸**

```javascript
// ìƒì„±ëœ ì›Œí¬í”Œë¡œìš° ì¡°íšŒ
n8n_get_workflow({ id: "<ë°˜í™˜ëœ ì›Œí¬í”Œë¡œìš° ID>" })
```

ì˜ˆìƒ ê²°ê³¼: 4ê°œ ê¸°ëŠ¥ ë…¸ë“œ(Schedule Trigger, HTTP Request, Code, Telegram) + Sticky Note ë…¸ë“œë“¤ í™•ì¸

**Step 3: ì»¤ë°‹**

```bash
# ì´ ì‹œì ì—ì„œëŠ” n8n ì„œë²„ì— ì›Œí¬í”Œë¡œìš°ê°€ ìƒì„±ëœ ê²ƒì´ë¯€ë¡œ ë¡œì»¬ ì»¤ë°‹ ëŒ€ìƒ ì—†ìŒ
# ëŒ€ì‹  ì›Œí¬í”Œë¡œìš° IDë¥¼ ê¸°ë¡í•´ë‘”ë‹¤
```

---

## Task 2: Schedule Trigger ì„¤ì •

**ëª©í‘œ:** ë§¤ì¼ ì•„ì¹¨ 7ì‹œ(KST)ì— ì›Œí¬í”Œë¡œìš°ê°€ ì‹¤í–‰ë˜ë„ë¡ ìŠ¤ì¼€ì¤„ì„ ì„¤ì •í•œë‹¤.

**ì£¼ì˜:** n8nì˜ Schedule TriggerëŠ” n8n ì¸ìŠ¤í„´ìŠ¤ì˜ ì‹œìŠ¤í…œ íƒ€ì„ì¡´ ê¸°ì¤€ì´ë‹¤. ì¸ìŠ¤í„´ìŠ¤ê°€ UTCë¼ë©´ `triggerAtHour: 22` (ì „ë‚  22ì‹œ UTC = ë‹¹ì¼ 07ì‹œ KST)ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤. ì¸ìŠ¤í„´ìŠ¤ íƒ€ì„ì¡´ì„ ë¨¼ì € í™•ì¸í•œë‹¤.

**Step 1: í˜„ì¬ ì¸ìŠ¤í„´ìŠ¤ íƒ€ì„ì¡´ í™•ì¸**

```javascript
// n8n ì¸ìŠ¤í„´ìŠ¤ ì„¤ì • í™•ì¸
n8n_health_check({ mode: "diagnostic" })
```

**Step 2: Schedule Trigger ë…¸ë“œ ì—…ë°ì´íŠ¸**

```javascript
n8n_update_partial_workflow({
  id: "<ì›Œí¬í”Œë¡œìš° ID>",
  intent: "ë§¤ì¼ ì•„ì¹¨ 7ì‹œ(KST)ì— ì‹¤í–‰ë˜ë„ë¡ ìŠ¤ì¼€ì¤„ ì„¤ì •",
  operations: [{
    type: "updateNode",
    name: "Daily Morning Trigger",
    properties: {
      parameters: {
        rule: {
          interval: [{
            triggerAtHour: 7,  // KST ê¸°ì¤€ì´ë©´ 7, UTC ê¸°ì¤€ì´ë©´ 22
            triggerAtMinute: 0
          }]
        }
      }
    }
  }]
})
```

**Step 3: ê²€ì¦**

```javascript
n8n_validate_workflow({ id: "<ì›Œí¬í”Œë¡œìš° ID>" })
```

ì˜ˆìƒ ê²°ê³¼: ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼

---

## Task 3: HTTP Request ë…¸ë“œ ì„¤ì • (OpenWeatherMap API)

**ëª©í‘œ:** ì„œìš¸ì˜ ë‚ ì”¨ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë„ë¡ HTTP Request ë…¸ë“œë¥¼ ì„¤ì •í•œë‹¤.

**Step 1: API URL ì—…ë°ì´íŠ¸**

```javascript
n8n_update_partial_workflow({
  id: "<ì›Œí¬í”Œë¡œìš° ID>",
  intent: "ì„œìš¸ ë‚ ì”¨ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë„ë¡ OpenWeatherMap API URL ì„¤ì •",
  operations: [{
    type: "updateNode",
    name: "OpenWeather API Request",
    properties: {
      parameters: {
        url: "https://api.openweathermap.org/data/2.5/forecast?q=Seoul,KR&appid=<OPENWEATHERMAP_API_KEY>&units=metric&lang=kr",
        options: {
          timeout: 30000
        }
      },
      retryOnFail: true,
      maxTries: 3,
      waitBetweenTries: 5000
    }
  }]
})
```

ë³€ê²½ì‚¬í•­:
- `q=Strassen` â†’ `q=Seoul,KR` (ì„œìš¸)
- `lang=kr` íŒŒë¼ë¯¸í„° ì¶”ê°€ (ë‚ ì”¨ ì„¤ëª…ì„ í•œêµ­ì–´ë¡œ ë°˜í™˜)
- API í‚¤ë¥¼ ì‹¤ì œ í‚¤ë¡œ êµì²´

**Step 2: ê²€ì¦**

```javascript
n8n_validate_workflow({ id: "<ì›Œí¬í”Œë¡œìš° ID>" })
```

ì˜ˆìƒ ê²°ê³¼: ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼

---

## Task 4: Code ë…¸ë“œ í•œêµ­ì–´ ì»¤ìŠ¤í„°ë§ˆì´ì§•

**ëª©í‘œ:** ë©”ì‹œì§€ í¬ë§·ì„ í•œêµ­ì–´ë¡œ ë³€ê²½í•˜ê³ , íƒ€ì„ì¡´ì„ Asia/Seoulë¡œ ìˆ˜ì •í•œë‹¤.

**Step 1: Code ë…¸ë“œ ì—…ë°ì´íŠ¸**

```javascript
n8n_update_partial_workflow({
  id: "<ì›Œí¬í”Œë¡œìš° ID>",
  intent: "ë‚ ì”¨ ë©”ì‹œì§€ë¥¼ í•œêµ­ì–´ë¡œ í¬ë§·íŒ…í•˜ê³  Asia/Seoul íƒ€ì„ì¡´ ì ìš©",
  operations: [{
    type: "updateNode",
    name: "Weather Data Processor",
    properties: {
      parameters: {
        jsCode: `// ì•„ì¹¨ ë‚ ì”¨ ì•Œë¦¼ - í•œêµ­ì–´ í¬ë§·
// OpenWeatherMap API ë°ì´í„°ë¥¼ ê°€ê³µí•˜ì—¬ Telegram ë©”ì‹œì§€ ìƒì„±

function getWeatherEmoji(weatherMain, cloudiness = 0, isNight = false) {
  const emojiMap = {
    'Clear': isNight ? 'ğŸŒ™' : 'â˜€ï¸',
    'Clouds': cloudiness > 75 ? 'â˜ï¸' : cloudiness > 25 ? 'â›…' : 'ğŸŒ¤ï¸',
    'Rain': 'ğŸŒ§ï¸',
    'Drizzle': 'ğŸŒ¦ï¸',
    'Thunderstorm': 'â›ˆï¸',
    'Snow': 'â„ï¸',
    'Mist': 'ğŸŒ«ï¸',
    'Fog': 'ğŸŒ«ï¸',
    'Haze': 'ğŸŒ«ï¸',
    'Smoke': 'ğŸŒ«ï¸'
  };
  return emojiMap[weatherMain] || 'ğŸŒ¤ï¸';
}

function getTemperatureEmoji(temp) {
  if (temp >= 30) return 'ğŸ”¥';
  if (temp >= 25) return 'ğŸ˜';
  if (temp >= 20) return 'ğŸ˜Š';
  if (temp >= 15) return 'ğŸ˜';
  if (temp >= 10) return 'ğŸ§¥';
  if (temp >= 5) return 'ğŸ¥¶';
  return 'ğŸ§Š';
}

function getWindText(windSpeed) {
  if (windSpeed < 2) return 'ë°”ëŒ ì—†ìŒ';
  if (windSpeed < 6) return 'ì•½í•œ ë°”ëŒ';
  if (windSpeed < 12) return 'ë³´í†µ ë°”ëŒ';
  if (windSpeed < 20) return 'ê°•í•œ ë°”ëŒ';
  return 'ë§¤ìš° ê°•í•œ ë°”ëŒ';
}

function getHumidityText(humidity) {
  if (humidity >= 80) return 'ë§¤ìš° ìŠµí•¨';
  if (humidity >= 60) return 'ìŠµí•¨';
  if (humidity >= 40) return 'ì¾Œì ';
  return 'ê±´ì¡°';
}

// ë©”ì¸ ì²˜ë¦¬
const forecast = items[0].json.list;
const cityName = items[0].json.city?.name || 'ì„œìš¸';
const timezone = 'Asia/Seoul';

const now = new Date();
// KST ê¸°ì¤€ ì˜¤ëŠ˜ ë‚ ì§œ ê³„ì‚°
const kstNow = new Date(now.toLocaleString('en-US', { timeZone: timezone }));
const today = kstNow.toISOString().split('T')[0];
const desiredHours = ["09:00", "12:00", "15:00", "18:00", "21:00"];

let hourlyLines = '';
let headerIcon = 'ğŸŒ¤ï¸';
let dayHighTemp = -999;
let dayLowTemp = 999;
let totalRain = 0;
let avgHumidity = 0;
let avgWindSpeed = 0;
let weatherCount = 0;
let hasRain = false;

let firstMatch = true;
forecast.forEach(item => {
  const dt = item.dt_txt;
  const [date, time] = dt.split(' ');
  const hour = time.slice(0, 5);
  const hourNum = parseInt(time.slice(0, 2));

  if (date === today && desiredHours.includes(hour)) {
    const temp = Math.round(item.main.temp);
    const feelsLike = Math.round(item.main.feels_like);
    const humidity = item.main.humidity;
    const windSpeed = item.wind?.speed || 0;
    const rain = item.rain?.['3h'] || 0;
    const clouds = item.clouds?.all || 0;
    const weatherMain = item.weather?.[0]?.main || '';
    const isNight = hourNum < 6 || hourNum > 20;

    dayHighTemp = Math.max(dayHighTemp, temp);
    dayLowTemp = Math.min(dayLowTemp, temp);
    totalRain += rain;
    if (rain > 0 || weatherMain === 'Rain' || weatherMain === 'Drizzle' || weatherMain === 'Thunderstorm') {
      hasRain = true;
    }
    avgHumidity += humidity;
    avgWindSpeed += windSpeed;
    weatherCount++;

    if (firstMatch && weatherMain) {
      headerIcon = getWeatherEmoji(weatherMain, clouds, isNight);
      firstMatch = false;
    }

    const weatherEmoji = getWeatherEmoji(weatherMain, clouds, isNight);
    const feelsLikeText = Math.abs(temp - feelsLike) > 2 ? \` (ì²´ê° \${feelsLike}Â°C)\` : '';
    const rainText = rain > 0 ? \`, ğŸŒ§ï¸ \${rain}mm\` : '';

    hourlyLines += \`ğŸ•’ <b>\${hour}</b> \${weatherEmoji} \${temp}Â°C\${feelsLikeText}\${rainText}\\n\`;
  }
});

if (weatherCount > 0) {
  avgHumidity = Math.round(avgHumidity / weatherCount);
  avgWindSpeed = avgWindSpeed / weatherCount;
}

// ë©”ì‹œì§€ êµ¬ì„±
const dayOfWeek = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '][kstNow.getDay()];
const month = kstNow.getMonth() + 1;
const day = kstNow.getDate();

let message = \`\${headerIcon} <b>\${cityName} ì˜¤ëŠ˜ì˜ ë‚ ì”¨</b>\\n\`;
message += \`ğŸ“… \${month}ì›” \${day}ì¼ (\${dayOfWeek})\\n\\n\`;

// í•µì‹¬ ì •ë³´: ë¹„ ì—¬ë¶€ + ì˜¨ë„ ë²”ìœ„
if (dayHighTemp > -999 && dayLowTemp < 999) {
  message += \`ğŸŒ¡ï¸ <b>\${dayLowTemp}Â°C / \${dayHighTemp}Â°C</b>  (ìµœì €/ìµœê³ )\\n\`;
}
if (hasRain) {
  message += \`â˜‚ï¸ <b>ë¹„ ì˜ˆë³´ ìˆìŒ</b>  (\${totalRain.toFixed(1)}mm)\\n\`;
} else {
  message += \`â˜€ï¸ ë¹„ ì˜ˆë³´ ì—†ìŒ\\n\`;
}
message += \`ğŸ’§ \${getHumidityText(avgHumidity)} (\${avgHumidity}%)\\n\`;
if (avgWindSpeed > 2) {
  const windKmh = (avgWindSpeed * 3.6).toFixed(0);
  message += \`ğŸ’¨ \${getWindText(avgWindSpeed)} (\${windKmh} km/h)\\n\`;
}
message += \`\\n\`;

// ì‹œê°„ëŒ€ë³„ ì˜ˆë³´
message += \`<b>â° ì‹œê°„ëŒ€ë³„</b>\\n\`;
message += hourlyLines;

// ì¶”ì²œ ì‚¬í•­ (í•´ë‹¹ë˜ëŠ” ê²½ìš°ë§Œ)
let tips = '';
if (hasRain) tips += \`â˜‚ï¸ ìš°ì‚° ì±™ê¸°ì„¸ìš”\\n\`;
if (dayLowTemp < 5) tips += \`ğŸ§£ ë°©í•œìš©í’ˆ í•„ìš”\\n\`;
else if (dayLowTemp < 10) tips += \`ğŸ§¥ ê²‰ì˜· ì±™ê¸°ì„¸ìš”\\n\`;
if (dayHighTemp > 30) tips += \`ğŸ’§ ìˆ˜ë¶„ ë³´ì¶© ìŠì§€ ë§ˆì„¸ìš”\\n\`;
if (dayHighTemp - dayLowTemp >= 10) tips += \`ğŸŒ¡ï¸ ì¼êµì°¨ê°€ í¬ë‹ˆ ì˜·ì°¨ë¦¼ ì£¼ì˜\\n\`;

if (tips) {
  message += \`\\n<b>ğŸ’¡ ì˜¤ëŠ˜ì˜ íŒ</b>\\n\`;
  message += tips;
}

return [{ json: { message: message } }];`
      }
    }
  }]
})
```

ì£¼ìš” ë³€ê²½ì‚¬í•­:
- íƒ€ì„ì¡´: `Europe/Luxembourg` â†’ `Asia/Seoul`
- ë¡œì¼€ì¼: ì˜ì–´ â†’ í•œêµ­ì–´ (ìš”ì¼, ë‚ ì§œ í˜•ì‹)
- ë©”ì‹œì§€ êµ¬ì¡°: í•µì‹¬ ì •ë³´(ë¹„ ì—¬ë¶€ + ì˜¨ë„ ë²”ìœ„)ë¥¼ ìµœìƒë‹¨ì— ë°°ì¹˜
- ì¶”ì²œ ì‚¬í•­: í•œêµ­ì–´ë¡œ ë³€ê²½, ì¼êµì°¨ ê²½ê³  ì¶”ê°€
- ë¶ˆí•„ìš”í•œ ìš”ì†Œ ì œê±°: ë°ì´í„° ì¶œì²˜ footer ì œê±° (ê°„ê²°í•¨ ìœ ì§€)

**Step 2: ê²€ì¦**

```javascript
n8n_validate_workflow({ id: "<ì›Œí¬í”Œë¡œìš° ID>" })
```

ì˜ˆìƒ ê²°ê³¼: ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼

---

## Task 5: Telegram ë…¸ë“œ ì„¤ì •

**ëª©í‘œ:** Telegram ë´‡ credentialê³¼ chat IDë¥¼ ì—°ê²°í•œë‹¤.

**Step 1: Telegram ë…¸ë“œ ì—…ë°ì´íŠ¸**

```javascript
n8n_update_partial_workflow({
  id: "<ì›Œí¬í”Œë¡œìš° ID>",
  intent: "Telegram ë´‡ credentialê³¼ chat ID ì—°ê²°",
  operations: [{
    type: "updateNode",
    name: "Send Weather Update",
    properties: {
      parameters: {
        text: "={{$json[\"message\"]}}",
        chatId: "<TELEGRAM_CHAT_ID>",
        additionalFields: {
          parse_mode: "HTML",
          disable_web_page_preview: true
        }
      }
    }
  }]
})
```

ë³€ê²½ì‚¬í•­:
- `chatId`ë¥¼ ì‚¬ì „ ì¤€ë¹„ì—ì„œ í™•ì¸í•œ ì‹¤ì œ chat IDë¡œ êµì²´
- n8n UIì—ì„œ Telegram API credentialë„ ì—°ê²° í™•ì¸

**Step 2: ê²€ì¦**

```javascript
n8n_validate_workflow({ id: "<ì›Œí¬í”Œë¡œìš° ID>" })
```

ì˜ˆìƒ ê²°ê³¼: ìœ íš¨ì„± ê²€ì‚¬ í†µê³¼

---

## Task 6: Sticky Note ì •ë¦¬ (ì„ íƒ)

**ëª©í‘œ:** ë¶ˆí•„ìš”í•œ ì˜ì–´ Sticky Noteë¥¼ ì œê±°í•˜ê±°ë‚˜ í•œêµ­ì–´ë¡œ êµì²´í•œë‹¤.

**Step 1: ê¸°ì¡´ Sticky Note ì œê±°**

```javascript
n8n_update_partial_workflow({
  id: "<ì›Œí¬í”Œë¡œìš° ID>",
  intent: "ë¶ˆí•„ìš”í•œ ì˜ì–´ Sticky Note ì œê±°",
  operations: [
    { type: "removeNode", name: "Schedule Setup" },
    { type: "removeNode", name: "API Configuration" },
    { type: "removeNode", name: "Processing Features" },
    { type: "removeNode", name: "Telegram Setup" },
    { type: "removeNode", name: "Setup Checklist" },
    { type: "removeNode", name: "Weather Bot Overview" }
  ]
})
```

---

## Task 7: ì „ì²´ ê²€ì¦ ë° í…ŒìŠ¤íŠ¸

**ëª©í‘œ:** ì›Œí¬í”Œë¡œìš°ë¥¼ ê²€ì¦í•˜ê³ , ìˆ˜ë™ ì‹¤í–‰ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•œë‹¤.

**Step 1: ì „ì²´ ì›Œí¬í”Œë¡œìš° ê²€ì¦**

```javascript
n8n_validate_workflow({ id: "<ì›Œí¬í”Œë¡œìš° ID>" })
```

ì˜ˆìƒ ê²°ê³¼: ì—ëŸ¬ 0ê±´

**Step 2: ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì‹¤í–‰**

```javascript
n8n_test_workflow({ id: "<ì›Œí¬í”Œë¡œìš° ID>" })
```

ì˜ˆìƒ ê²°ê³¼: Telegramì— í•œêµ­ì–´ ë‚ ì”¨ ë©”ì‹œì§€ ìˆ˜ì‹ 

**Step 3: ë©”ì‹œì§€ í™•ì¸ ì²´í¬ë¦¬ìŠ¤íŠ¸**

ìˆ˜ì‹ ëœ ë©”ì‹œì§€ì—ì„œ í™•ì¸í•  í•­ëª©:
- [ ] ë„ì‹œëª…ì´ "ì„œìš¸"ë¡œ í‘œì‹œë˜ëŠ”ê°€
- [ ] ë‚ ì§œê°€ í•œêµ­ì–´ í˜•ì‹(Xì›” Xì¼ (ìš”ì¼))ì¸ê°€
- [ ] ìµœì €/ìµœê³  ì˜¨ë„ê°€ í‘œì‹œë˜ëŠ”ê°€
- [ ] ë¹„ ì—¬ë¶€ê°€ ëª…í™•íˆ í‘œì‹œë˜ëŠ”ê°€
- [ ] ì‹œê°„ëŒ€ë³„ ì˜ˆë³´(09:00~21:00)ê°€ í‘œì‹œë˜ëŠ”ê°€
- [ ] ì´ëª¨ì§€ê°€ ì •ìƒ ë Œë”ë§ë˜ëŠ”ê°€

---

## Task 8: ì›Œí¬í”Œë¡œìš° í™œì„±í™”

**ëª©í‘œ:** í…ŒìŠ¤íŠ¸ í†µê³¼ í›„ ì›Œí¬í”Œë¡œìš°ë¥¼ í™œì„±í™”í•˜ì—¬ ë§¤ì¼ ìë™ ì‹¤í–‰ë˜ë„ë¡ í•œë‹¤.

**Step 1: í™œì„±í™”**

```javascript
n8n_update_partial_workflow({
  id: "<ì›Œí¬í”Œë¡œìš° ID>",
  intent: "ì›Œí¬í”Œë¡œìš° í™œì„±í™”í•˜ì—¬ ë§¤ì¼ ì•„ì¹¨ ìë™ ì‹¤í–‰",
  operations: [{
    type: "activateWorkflow"
  }]
})
```

ì˜ˆìƒ ê²°ê³¼: ì›Œí¬í”Œë¡œìš° active ìƒíƒœ ì „í™˜

**Step 2: í™œì„±í™” í™•ì¸**

```javascript
n8n_get_workflow({ id: "<ì›Œí¬í”Œë¡œìš° ID>" })
```

ì˜ˆìƒ ê²°ê³¼: `active: true`

**Step 3: ì»¤ë°‹ (lookup ë¬¸ì„œ ì—…ë°ì´íŠ¸)**

```bash
# lookup ë¬¸ì„œì— ê²°ê³¼ ê¸°ë¡ í›„ ì»¤ë°‹
git add docs/lookups/2026-02-26-ì•„ì¹¨-ë‚ ì”¨-ì•Œë¦¼.md docs/plans/2026-02-26-ì•„ì¹¨-ë‚ ì”¨-ì•Œë¦¼.md
git commit -m "feat: ì•„ì¹¨ ë‚ ì”¨ ì•Œë¦¼ n8n ì›Œí¬í”Œë¡œìš° êµ¬í˜„ ê³„íš ë° ë°°í¬"
```

---

## ì˜ˆìƒ ìµœì¢… ë©”ì‹œì§€ í˜•íƒœ

```
ğŸŒ¤ï¸ ì„œìš¸ ì˜¤ëŠ˜ì˜ ë‚ ì”¨
ğŸ“… 2ì›” 26ì¼ (ëª©)

ğŸŒ¡ï¸ -2Â°C / 5Â°C  (ìµœì €/ìµœê³ )
â˜€ï¸ ë¹„ ì˜ˆë³´ ì—†ìŒ
ğŸ’§ ê±´ì¡° (35%)
ğŸ’¨ ì•½í•œ ë°”ëŒ (12 km/h)

â° ì‹œê°„ëŒ€ë³„
ğŸ•’ 09:00 â˜€ï¸ 0Â°C
ğŸ•’ 12:00 ğŸŒ¤ï¸ 4Â°C
ğŸ•’ 15:00 â˜€ï¸ 5Â°C (ì²´ê° 2Â°C)
ğŸ•’ 18:00 â›… 2Â°C
ğŸ•’ 21:00 ğŸŒ™ -1Â°C

ğŸ’¡ ì˜¤ëŠ˜ì˜ íŒ
ğŸ§¥ ê²‰ì˜· ì±™ê¸°ì„¸ìš”
ğŸŒ¡ï¸ ì¼êµì°¨ê°€ í¬ë‹ˆ ì˜·ì°¨ë¦¼ ì£¼ì˜
```

---

## ì°¸ê³ : ì»¤ìŠ¤í„°ë§ˆì´ì§• í¬ì¸íŠ¸

| í•­ëª© | í˜„ì¬ ì„¤ì • | ë³€ê²½ ë°©ë²• |
|---|---|---|
| ë„ì‹œ | Seoul,KR | HTTP Request URLì˜ `q=` íŒŒë¼ë¯¸í„° ë³€ê²½ |
| ì‹œê°„ | 07:00 KST | Schedule Triggerì˜ `triggerAtHour` ë³€ê²½ |
| ì˜ˆë³´ ì‹œê°„ëŒ€ | 09,12,15,18,21ì‹œ | Code ë…¸ë“œì˜ `desiredHours` ë°°ì—´ ìˆ˜ì • |
| ì•Œë¦¼ ì±„ë„ | Telegram | Telegram ë…¸ë“œë¥¼ Slack ë“±ìœ¼ë¡œ êµì²´ |
| ì–¸ì–´ | í•œêµ­ì–´ | Code ë…¸ë“œì˜ ë©”ì‹œì§€ í…ìŠ¤íŠ¸ ìˆ˜ì • |
