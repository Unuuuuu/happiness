# define-problem 스킬 설계

## 개요

문제 정의 프레임워크(7단계)를 대화형으로 안내하여, 구조화된 문제 정의 초안 문서를 생성하는 스킬.

## 설계 결정 요약

| 항목 | 결정 |
|------|------|
| 스킬 이름 | `define-problem` |
| 사용자 | 본인 + 팀원 (프레임워크에 익숙하지 않은 사람 포함) |
| 문제 범위 | 도메인 무관 (범용) |
| 프레임워크 단계 | 전체 7단계 (규모에 따라 후반부 간략화) |
| 문서 용도 | 초안 (최종본은 팀 논의 후 확정) |
| 상호작용 방식 | 자유 설명 → 구조화 → 빈 부분 보충 질문 |
| 논의 필요 표시 | 인라인 상태 태그 (확정/논의 필요/미정) |
| 호출 방식 | 인자 있으면 구조화부터, 없으면 자유 설명부터 |
| 출력 | Markdown 문서 (docs/problems/YYYY-MM-DD-\<topic\>.md) |
| 스킬 구조 | SKILL.md + references/ (framework.md, template.md) — `.claude/skills/define-problem/` |

---

## 파일 구조

```
define-problem/
├── SKILL.md                          # 진행 흐름, 규칙, 출력 형식
└── references/
    ├── framework.md                  # 문제 정의 프레임워크 원문 (7단계)
    └── template.md                   # 문제 정의 문서 템플릿
```

---

## SKILL.md 설계

### 메타데이터

```yaml
---
name: define-problem
description: Guide users through a 7-step problem definition framework to produce a structured draft document. Use when analyzing a problem, requesting problem definition, or describing a problem situation.
---
```

### 트리거 조건

- 사용자가 문제를 설명하거나 문제 정의를 요청할 때
- `/define-problem`으로 직접 호출할 때

### 진행 흐름

```
인자 있음? ──yes──→ 자유 설명을 구조화
    │
   no
    │
    ↓
"어떤 상황이 문제라고 느끼시나요?" (자유 설명 유도)
    │
    ↓
사용자 설명을 현상/기대/간극으로 분류
    │
    ↓
"이렇게 정리했는데 맞나요?" (확인)
    │
    ↓
빈 부분 또는 불명확한 부분 보충 질문 (한 번에 하나)
    │
    ↓
현상-기대-간극 확정 ← HARD GATE: 여기 전에 원인/해결로 가지 않음
    │
    ↓
영향 → 원인 → 해결 방향 → 성공 기준 (순차 진행)
    │
    ↓
전체 문서 초안 제시
    │
    ↓
사용자 확인 ──수정──→ 전체 문서 초안 재제시 (반복)
    │
   확인
    │
    ↓
docs/problems/YYYY-MM-DD-<topic>.md 로 저장
```

### 핵심 규칙

1. **간극 확정 전 원인/해결로 가지 않는다** — 프레임워크의 최우선 규칙. HARD GATE.
2. **판단/감정/해석 분리** — 사용자의 자유 설명에서 "비효율적이다", "형편없다" 같은 표현이 나오면 "객관적으로 관찰되는 사실은 무엇인가요?"로 되묻기.
3. **해결책 위장 감지** — "Slack이 필요하다" 같은 패턴이 나오면 "어떤 상황에서 무엇이 안 되고 있는가?"로 되묻기.
4. **한 번에 한 질문** — 보충 질문은 항상 하나씩.
5. **이전 단계 복귀 허용** — 원인을 분석하다가 현상을 다시 관찰해야 하면 돌아감. 단, HARD GATE는 유지.
6. **규모 적응** — 작은 문제는 현상-기대-간극-해결만 필수. 원인이 자명하지 않으면 원인 분석 추가.

### 상태 태그 규칙

각 단계 항목에 다음 중 하나를 표기:

- **`확정`** — 작성자가 확신하는 내용. 데이터나 합의로 뒷받침됨.
- **`논의 필요`** — 팀 합의가 필요한 부분. 작성자의 초안은 적되, 논의 포인트를 `> 논의 포인트:` 블록으로 명시.
- **`미정`** — 아직 정보가 부족하여 작성하지 못한 부분. 어떤 정보가 필요한지 명시.

### 프레임워크 원문 참조

진행 중 각 단계의 세부 기준(좋은 예/나쁜 예, 검증 질문 등)이 필요하면 `references/framework.md`를 참조.

---

## references/template.md 설계

최종 문서가 따르는 구조:

```markdown
# 문제 정의: {제목}

> 작성자: {작성자} | 작성일: {날짜} | 상태: 초안

---

## 1. 현상 (Observation)

**상태: {확정|논의 필요|미정}**

{객관적 사실 기술}

---

## 2. 기대 (Expectation)

**상태: {확정|논의 필요|미정}**

{바람직한 상태}

> 기대의 근거: {합의|데이터|관행|직관}

---

## 3. 간극 (Gap)

**상태: {확정|논의 필요|미정}**

{현상과 기대 사이의 차이 — 정량적 또는 정성적}

---

## 4. 영향 (Impact)

**상태: {확정|논의 필요|미정}**

- **범위:** {누가, 얼마나}
- **심각도:** {영향의 정도}
- **긴급도:** {시간에 따른 변화}
- **비가역성:** {되돌릴 수 없는 결과 여부}

---

## 5. 원인 (Cause)

**상태: {확정|논의 필요|미정}**

{근본 원인 분석}

| 원인 | 기여도 | 제거 가능성 | 우선순위 |
|------|--------|-------------|----------|
| | | | |

---

## 6. 해결 방향 (Direction)

**상태: {확정|논의 필요|미정}**

| 기준 | 대안 A | 대안 B | 대안 C |
|------|--------|--------|--------|
| 원인 대응도 | | | |
| 실행 가능성 | | | |
| 비용 | | | |
| 부작용 | | | |
| 지속 가능성 | | | |

---

## 7. 성공 기준 (Success Criteria)

**상태: {확정|논의 필요|미정}**

{간극이 줄어들었는지 판단하는 구체적 기준}
```

---

## references/framework.md

기존 문서 `docs/plans/2026-03-01-problem-definition-framework-design.md`의 내용을 그대로 포함. 스킬이 각 단계 진행 시 좋은 예/나쁜 예, 검증 질문, 흔한 실수 등을 참조하는 데 사용.

---

## 고려사항

### 팀원 친화성
- 프레임워크를 모르는 팀원이 스킬을 호출해도 자연스럽게 따라갈 수 있어야 함
- 각 단계에서 "왜 이 질문을 하는지" 간단히 설명 (예: "해결책을 찾기 전에 먼저 문제가 정확히 무엇인지 확인합니다")
- 전문 용어(간극, 정성적 등) 사용 시 평이한 설명 병기

### 초안 vs 최종본
- 이 스킬의 산출물은 항상 "초안"
- 상태 태그를 통해 팀 논의가 필요한 지점이 명확히 표시됨
- 문서 상단에 `상태: 초안` 명시

### 문제 규모 적응
- 작은 문제 (개인, 일상): 현상, 기대, 간극, 해결 방향만 필수
- 중간 문제 (팀, 프로젝트): 전체 7단계
- 큰 문제 (조직, 사회): 전체 7단계 + 각 단계 세부 분석
- 스킬이 대화 중 규모를 판단하고 적절히 조절
